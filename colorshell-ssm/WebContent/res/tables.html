<!DOCTYPE html>
<html>
    
    <head>
        <title>用户&设备管理 - 彩贝后台管理</title>
        <meta charset="UTF-8"/>
        <!-- Bootstrap -->
        <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
        <link href="bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" media="screen">
        <link href="assets/styles.css" rel="stylesheet" media="screen">
        <link href="assets/DT_bootstrap.css" rel="stylesheet" media="screen">
        <link href="vendors/jGrowl/jquery.jgrowl.css" rel="stylesheet" media="screen">
        <script src="vendors/modernizr-2.6.2-respond-1.1.0.min.js"></script>
        <script src="vendors/jquery-1.9.1.min.js"></script>
        <script src="js/privilege.js"></script>
        <script src="js/loginoff.js"></script>
    </head>
    
    <body>
        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> <span class="icon-bar"></span>
                     <span class="icon-bar"></span>
                     <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="index.html">彩贝</a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right">
                            <li class="dropdown">
                                <a href="#" role="button" class="dropdown-toggle" data-toggle="dropdown"> <i class="icon-user"></i>管理员<i class="caret"></i>

                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a tabindex="-1" href="javascript:loginoff();">退出登录</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                        <ul class="nav">
                            <li class="active">
                                <a href="index.html">主页</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" data-toggle="dropdown" class="dropdown-toggle">管理 <b class="caret"></b>

                                </a>
                                <ul class="dropdown-menu" id="menu1">
                                    <li  class="active">
                                        <a href="tables.html">终端用户管理</a>
                                    </li>
                                    <li  class="active">
                                        <a href="tables.html">设备注册管理</a>
                                    </li>
                                    <li class="divider"></li>
                                    <li>
                                        <a href="index.html">当前数据</a>
                                    </li>
                                    <li>
                                        <a href="stats.html">数据分析</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <!--/.nav-collapse -->
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span3" id="sidebar">
                    <ul class="nav nav-list bs-docs-sidenav nav-collapse collapse">
                        <li>
                            <a href="index.html"><i class="icon-chevron-right"></i> 主页</a>
                        </li>
                        <li>
                            <a href="stats.html"><i class="icon-chevron-right"></i>数据统计</a>
                        </li>
                        <li  class="active">
                            <a href="tables.html"><i class="icon-chevron-right"></i> 用户&设备 管理</a>
						</li>
                    </ul>
                </div>
                <!--/span-->
                <div class="span9" id="content">
                     <div class="row-fluid">
                        <!-- block -->
                        <div class="block">
                            <div class="navbar navbar-inner block-header">
                                <div class="muted pull-left">用户管理</div>
                            </div>
                            <div class="block-content collapse in">
                                <div class="span12">
                                   <div class="table-toolbar">
                                      <div class="btn-group">
                                         <button name="adduser" data-toggle="modal" data-target="#adduser-modal" class="btn btn-success">新增 <i class="icon-plus icon-white"></i></button>
                                         <button name="updateuser" data-toggle="modal" data-target="#updateuser-modal"  class="btn btn-primary" disabled="disabled">修改 <i class="icon-pencil icon-white"></i></button>
                                         <button name="deleteuser" data-toggle="modal" data-target="#deleteuser-modal" class="btn btn-danger" disabled="disabled">删除 <i class="icon-remove icon-white"></i></button>
                                      </div>
                                      <div class="btn-group pull-right">
                                         <button data-toggle="dropdown" class="btn dropdown-toggle">工具 <span class="caret"></span></button>
                                         <ul class="dropdown-menu">
                                            <li><a href="#">打印</a></li>
                                            <li><a href="#">保存为PDF</a></li>
                                            <li><a href="#">导出为EXCEL</a></li>
                                         </ul>
                                      </div>
                                   </div> 
  									<table id="usertable" data-page-size="5" data-toggle="table" data-single-select="true" data-select-item-name="usertablerow" data-show-refresh="true" data-show-toggle="true"  data-show-columns="true" data-search="true" data-pagination="true" data-sort-name="name" data-sort-order="desc">
									    <thead>
									    <tr>
									    	<th data-checkbox="true" >选择</th>
									        <th data-field="id" data-sortable="true">#</th>
									        <th data-field="mail">邮箱</th>
									        <th data-field="neckname">昵称</th>
									        <th data-field="role">角色类型</th>
									    </tr>
									    </thead>
									</table>
                                </div>
                            </div>
                        </div>
                        <!-- /block -->
                    </div>

                     <div class="row-fluid">
                        <!-- block -->
                        <div class="block">
                            <div class="navbar navbar-inner block-header">
                                <div class="muted pull-left">设备管理</div>
                            </div>
                            <div class="block-content collapse in">
                                <div class="span12">
                                   <div class="table-toolbar">
                                      <div class="btn-group">
                                         <button name="adddevice" data-toggle="modal" data-target="#adddevice-modal" class="btn btn-success">新增 <i class="icon-plus icon-white"></i></button>
                                         <button name="updatedevice" data-toggle="modal" data-target="#updatedevice-modal" class="btn btn-primary" disabled="disabled">修改 <i class="icon-pencil icon-white"></i></button>
                                         <button name="deletedevice" data-toggle="modal" data-target="#deletedevice-modal"  class="btn btn-danger" disabled="disabled">删除 <i class="icon-remove icon-white"></i></button>
                                      </div>
                                      <div class="btn-group pull-right">
                                         <button data-toggle="dropdown" class="btn dropdown-toggle">工具 <span class="caret"></span></button>
                                         <ul class="dropdown-menu">
                                            <li><a href="#">打印</a></li>
                                            <li><a href="#">保存为PDF</a></li>
                                            <li><a href="#">导出为EXCEL</a></li>
                                         </ul>
                                      </div>
                                   </div>
                                    <table id="devicetable" data-page-size="5" data-toggle="table" data-single-select="true" data-select-item-name="devicetablerow"  data-show-refresh="true" data-show-toggle="true"  data-show-columns="true" data-search="true" data-pagination="true" data-sort-name="name" data-sort-order="desc">
									    <thead>
									    <tr>
									    	<th data-checkbox="true" >选择</th>
									        <th data-field="id" data-sortable="true">#</th>
									        <th data-field="mac">设备物理地址(MAC)</th>
									        <th data-field="token">令牌信息</th>
									        <th data-field="type">设备类型</th>
									    </tr>
									    </thead>
									</table>
                                </div>
                            </div>
                        </div>
                        <!-- /block -->
                    </div>
                </div>
            </div>
            <!--这里全是modal  -->
            <div class="my-modal">
            	<!--增加用户的modal  -->
            	<div class="modal fade" id="adduser-modal">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">
									<span class="glyphicon glyphicon-remove"></span>
								</button>
								<h4>增加用户</h4>
							</div>
							<div class="modal-body">
								<div id="useraddinfo">
                                    <input class="input-xlarge focused" id="mail" name="mail" type="text" placeholder="输入邮箱">
                                    <input class="input-xlarge focused" id="password" name="password" type="password" placeholder="输入密码(不可见)">
                                    <input class="input-xlarge focused" id="neckname" name="neckname" type="text" placeholder="输入昵称">
                                    <!-- <select name="role" id="role">
                                    	<option value="admin">管理员</option>
                                    	<option value="user">普通用户</option>
                                    </select> -->
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" id="canceladduser" class="btn btn-primary" data-dismiss="modal">取消</button>
								<button type="button" id="confirmadduser" class="btn btn-primary" onclick="adduser()">确定</button>
							</div>
						</div>
					</div>
				</div>
				<!--./增加用户的modal  -->
				
				<!--更新用户的modal  -->
            	<div class="modal fade" id="updateuser-modal">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">
									<span class="glyphicon glyphicon-remove"></span>
								</button>
								<h4>更新用户信息</h4>
							</div>
							<div class="modal-body">
								<div id="userupdateinfo">
									<input class="input-xlarge focused" id="userid" name="id" type="text" placeholder="ID值" disabled="disabled">ID
                                    <input class="input-xlarge focused" id="password2" name="password" type="password" placeholder="新的密码">
                                    <input class="input-xlarge focused" id="neckname2" name="neckname" type="text" placeholder="昵称">
                                    <br /><select name="role" id="role">
                                    	<option value="admin">管理员</option>
                                    	<option value="user">普通用户</option>
                                    </select>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" id="cancelupdateuser" class="btn btn-primary" data-dismiss="modal">取消</button>
								<button type="button" id="confirmupdateuser" class="btn btn-primary" onclick="updateUser()">确定</button>
							</div>
						</div>
					</div>
				</div>
				<!--./更新用户的modal  -->
				
				<!--更新设备的modal  -->
            	<div class="modal fade" id="updatedevice-modal">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">
									<span class="glyphicon glyphicon-remove"></span>
								</button>
								<h4>更新设备信息</h4>
							</div>
							<div class="modal-body">
								<div id="deviceupdateinfo">
									<input class="input-xlarge focused" id="deviceid" name="id" type="text" placeholder="ID值" disabled="disabled">ID
                                    <input class="input-xlarge focused" id="mac2" name="mac" type="text" placeholder="物理地址">
                                    <input class="input-xlarge focused" id="token2" name="token" type="text" placeholder="令牌信息">
                                    <br /><select name="type" id="type">
                                    	<option value="humidity">湿度传感器</option>
                                    	<option value="temperature">温度传感器</option>
                                    	<option value="illumination">光照传感器</option>
                                    	<option value="gas">二氧化碳传感器</option>
                                    	<option value="ph">土壤ph传感器</option>
                                    </select>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" id="cancelupdateuser" class="btn btn-primary" data-dismiss="modal">取消</button>
								<button type="button" id="confirmupdateuser" class="btn btn-primary" onclick="updateDevice()">确定</button>
							</div>
						</div>
					</div>
				</div>
				<!--./更新设备的modal  -->
				
				<!--增加设备的modal  -->
            	<div class="modal fade" id="adddevice-modal">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">
									<span class="glyphicon glyphicon-remove"></span>
								</button>
								<h4>增加设备</h4>
							</div>
							<div class="modal-body">
								<div id="deviceaddinfo">
									<input class="input-xlarge focused" id="mac" name="mac" type="text" placeholder="输入MAC地址">
									<!-- <input class="input-xlarge focused" id="token" name="token" type="text" disabled="disabled" placeholder="Token,自动生成"><button type="button" class="btn btn-primary" onclick="generateToken()" style="margin-left:10px; margin-bottom:10px;">生成token</button> -->
									<br /><span>节点类型：</span>
									<select name="type" id="type">
										<option value="humidity">湿度数据采集节点</option>
										<option value="illumination">光度数据采集节点</option>
										<option value="temperature">温度数据采集节点</option>
										<option value="gas">二氧化碳浓度数据采集节点</option>
										<option value="ph">土壤ph值数据采集节点</option>
									</select>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" id="canceladduser" class="btn btn-primary" data-dismiss="modal">取消</button>
								<button type="button" id="confirmadduser" class="btn btn-primary" onclick="adddevice()">确定</button>
							</div>
						</div>
					</div>
				</div>
				<!--./增加设备的modal  -->
				
				<!--删除用户的modal  -->
            	<div class="modal fade" id="deleteuser-modal">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">
									<span class="glyphicon glyphicon-remove"></span>
								</button>
								<h4>删除终端用户</h4>
							</div>
							<div class="modal-body">
								<div id="userdeleteinfo">
									<h3>确认删除选中用户吗？</h3>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" id="canceladduser" class="btn btn-primary" data-dismiss="modal">取消</button>
								<button type="button" id="confirmadduser" class="btn btn-primary" onclick="deleteuser()">确定</button>
							</div>
						</div>
					</div>
				</div>
				<!--./删除用户的modal  -->
				
				<!--删除device的modal  -->
            	<div class="modal fade" id="deletedevice-modal">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">
									<span class="glyphicon glyphicon-remove"></span>
								</button>
								<h4>删除设备信息</h4>
							</div>
							<div class="modal-body">
								<div id="devicedeleteinfo">
									<h3>确认删除选中设备信息吗？</h3>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" id="canceldeletedevice" class="btn btn-primary" data-dismiss="modal">取消</button>
								<button type="button" id="confirmdeletedevice" class="btn btn-primary" onclick="deletedevice()">确定</button>
							</div>
						</div>
					</div>
				</div>
				<!--./删除用户的modal  -->
            </div>
            <!--上面这个div全是modal  -->
            <hr>
            <footer style="width: 100%; text-align: center;">
                <p>&copy; (c) Copyright 2018 Sherivey Ruan. All Rights Reserved. <a href="mailto:qkmc@outlook.com">发送邮件</a>
            </footer>
        </div>
        <!--/.fluid-container-->
		<script src="vendors/jGrowl/jquery.jgrowl.js"></script>
        <script src="bootstrap/js/bootstrap.min.js"></script>
        <script src="js/bootstrap-table.js"></script>
        <script src="js/md5.js"></script>
        <script src="js/tables/device.js"></script>
        <script src="js/tables/user.js"></script>
        <script src="vendors/datatables/js/jquery.dataTables.min.js"></script>
		
        <script src="assets/scripts.js"></script>
        <script src="assets/DT_bootstrap.js"></script>
        <script>
        $(function() {
            
        });
        </script>
    </body>

</html>